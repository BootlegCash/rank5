{# accounts/templates/accounts/leaderboard.html #}
{% extends 'base.html' %}

{% block content %}
<div class="glass-card">
  <h2 class="gradient-text">ðŸ‘‘ Friends Leaderboard</h2>
  <div style="margin-top:1.5rem;">
    {% for profile in profiles %}
      <div class="leader-row{% if profile.id == user_profile.id %} current-user{% endif %}"
           style="display:flex; align-items:center; margin:1rem 0; padding:0.8rem; background: rgba(255,255,255,0.03); border-radius:8px;">
        <div style="width:40px; height:40px; border-radius:50%; background:linear-gradient(45deg,var(--neon-cyan),var(--hot-pink)); display:flex; align-items:center; justify-content:center; margin-right:1rem;">
          <span style="font-weight:bold;">{{ forloop.counter }}</span>
        </div>
        <div style="flex:1;">
          {% if profile.display_name %}
            <p style="font-weight:bold;">{{ profile.display_name }} ({{ profile.user.username }})</p>
          {% else %}
            <p style="font-weight:bold;">{{ profile.user.username }}</p>
          {% endif %}
          <p>{{ profile.xp }} XP â€¢ {{ profile.rank }}</p>
        </div>
        <div class="xp-bar" style="width:100px; margin:0;">
          <div class="xp-progress" style="width: {{ profile.xp_percentage }}%;"></div>
        </div>
      </div>
    {% empty %}
      <p>No friends yet. Add some to compete!</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
